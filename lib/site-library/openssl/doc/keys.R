<<<<<<< HEAD
## ----setup, include=FALSE------------------------------------------------
=======
## ----setup, include=FALSE-----------------------------------------------------
>>>>>>> ddff10c8c1a385735ed59fadb33c4b79e43db9ce
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(comment = "")
library(openssl)

<<<<<<< HEAD
## ------------------------------------------------------------------------
=======
## -----------------------------------------------------------------------------
>>>>>>> ddff10c8c1a385735ed59fadb33c4b79e43db9ce
key <- ec_keygen()
pubkey <- key$pubkey
bin <- write_der(pubkey)
print(bin)

<<<<<<< HEAD
## ------------------------------------------------------------------------
read_pubkey(bin, der = TRUE)

## ------------------------------------------------------------------------
cat(write_pem(pubkey))
cat(write_pem(key, password = NULL))

## ------------------------------------------------------------------------
cat(write_pem(key, password = "supersecret"))

## ------------------------------------------------------------------------
str <- write_ssh(pubkey)
print(str)

## ------------------------------------------------------------------------
read_pubkey(str)

## ------------------------------------------------------------------------
=======
## -----------------------------------------------------------------------------
read_pubkey(bin, der = TRUE)

## -----------------------------------------------------------------------------
cat(write_pem(pubkey))
cat(write_pem(key, password = NULL))

## -----------------------------------------------------------------------------
cat(write_pem(key, password = "supersecret"))

## -----------------------------------------------------------------------------
str <- write_ssh(pubkey)
print(str)

## -----------------------------------------------------------------------------
read_pubkey(str)

## -----------------------------------------------------------------------------
>>>>>>> ddff10c8c1a385735ed59fadb33c4b79e43db9ce
library(jose)
json <- write_jwk(pubkey)
jsonlite::prettify(json)

<<<<<<< HEAD
## ------------------------------------------------------------------------
=======
## -----------------------------------------------------------------------------
>>>>>>> ddff10c8c1a385735ed59fadb33c4b79e43db9ce
mykey <- read_jwk(json)
identical(mykey, pubkey)
print(mykey)

